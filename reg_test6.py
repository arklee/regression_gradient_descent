from regression import problem

# 目标函数，th为特征值集合，x为自变量集合
def h(th, x):
    return th[0]*x[0]**2 + th[1]*x[1]**2 + th[2]*x[0] + th[3]*x[1] + th[4]*x[0]*x[1] + th[5]

# 输入矩阵，input[i][j]表示第i+1个训练集的第j+1个自变量
input = [[-3.753097974021944, 3.3530930272678328], [-1.9200143108825007, 0.5754069792720395], [-0.7362174111608366, -0.17065943170609943], [4.517531561422642, 4.928581887801649], [1.1708673714654905, -2.2230019635156184], [4.417004973196715, 4.940500907776659], [-3.7127143807370877, -4.315394214834633], [2.1093466685291515, -1.7167754087527243], [4.022517332218738, 2.6660220431331894], [4.063386876248037, 0.32250018326139496], [0.9948812311834343, 4.691756212531382], [-3.1507576410692906, 1.8021243767980133], [3.839133272099977, 4.1065973029161364], [-3.4645909807683184, -0.002766851664605108], [0.4167070375997428, 1.584390370428248], [1.582278473654909, 0.4755940098209799], [-0.4595212603792176, 3.726419205729916], [-3.994056611976151, -2.898072955476194], [1.9422277862131243, -4.308387413247999], [2.6803839338132907, 3.287316963215071], [-3.4354221996564025, 0.5520322232347319], [4.17726347416369, -3.223315904435963], [0.836537948806042, -3.5149005229183903], [2.486342598851633, -0.20046518908852673], [-0.880502012014297, 1.6277874704755313], [-0.6166281785514549, 2.559461618275445], [1.2774571275950597, 2.4572495176224973], [3.1323148446381177, 0.38634842585995255], [2.77032212477644, -2.67215632452497], [-2.7765183156443607, -1.839917667718678], [4.2437212185238735, 1.2694782750399591], [-4.258446678084512, 2.4281881781366987], [3.759540863350516, -0.004567828173891453], [-3.3884312932348437, 0.25927173059197894], [-3.481876211666396, 2.473124224558764], [-4.760162010473231, -3.263401490665548], [-2.6122910603074443, -3.644334578820434], [0.9147298412530491, -3.757112166320644], [-4.809906382077314, 3.792189340992386], [-4.725572921672577, -4.4462491157737505], [1.5785145001026046, -4.4026636306248275], [-0.5435900444167063, 1.1848506032535266], [4.95852200357501, -1.3746602616028802], [0.06018788564429722, -3.713476351530062], [0.4281180096431092, -0.6855147934786054], [4.349893098222775, 2.6099337741137596], [2.589691483467221, -0.45039543400595017], [3.9096135372911647, 2.5551324325423863], [0.5652877916840549, -4.343408959429053], [4.687971425184282, -1.1998495818990695], [0.6965160533446024, -2.5718280944469027], [-3.957183494600247, 4.699148798082886], [2.1205071193207647, -3.804772412437462], [4.299308037322152, -4.531873626256414], [-3.9720012273154683, 4.5854004211738], [-2.952024760916835, 3.035633139799092], [0.5439381210232552, 0.9478510340927404], [-4.689536123661602, -4.656448489996382], [-0.5004901864452027, -0.28979283383877785], [1.0548873856524876, 2.370068705457986], [2.6283853714315777, -0.7718963119541855], [2.973078404753564, 3.7774722419633022], [-0.7781429197903256, -2.758998730375083], [-0.1807501059775507, 2.530147955850648], [1.436856797484135, -4.201965741624588], [0.4523340550711241, 4.868283497090946], [-2.118289075760187, -4.164937473858493], [2.0387308324272535, 4.134081998113944], [1.9801450498076245, -4.425846926654708], [4.747743934329115, 3.074022472074912], [-0.8814278339186532, -2.059121158760253], [2.306219352771773, -3.6423441243303523], [4.910653304293374, -0.8994097008992952], [-1.7996649566690548, -1.08072874156659], [2.8059930292298754, 1.2475749757095034], [-2.1115053403797113, 1.6793950839839866], [-0.15772885182850804, 1.0294170532603208], [4.563303578114425, 2.7531343821933696], [4.475666088000852, 4.786588739801712], [-0.7972555629314482, -0.7577072996200196], [-4.93849212313335, 1.3047069341708273], [-1.9764617620732583, -3.0859813570257097], [-4.592683950493014, -3.155480739541121], [4.869420390699794, -2.178415840473468], [-0.06563627038221553, -2.766163411506173], [-4.770915742072642, 2.0068292645751873], [3.434695358194891, 0.83849231993263], [4.941028546114309, -4.472103702983988], [-2.1799713081408303, -3.9857090789125396], [-3.777311953938286, 3.476966852925117], [4.634801206118499, -1.0680366298060096], [-0.5961117779327185, 4.310380769944974], [3.064043005452468, -3.028041867518465], [-3.2412528995591074, -3.6668275234753898], [3.6628577347826754, -1.522100602333336], [1.794748787742153, 3.0266007380114157], [3.4538900772059744, -0.5635532726117698], [4.474323213521066, 0.8319606449885519], [3.25038474958757, -2.6627929572260944], [3.6531131204262213, 2.5460564798266794]]

# 输出向量
output = [-92.79132724619339, -19.262628074875543, -6.532653748490024, 32.15502329424251, 0.04214955450810187, 29.018510125478016, 24.220551098559334, 6.647616756334125, 38.27662998331072, 38.67974936433319, -55.213393348173, -47.31949438440728, 22.703200301636052, -12.738811393570426, -13.872361080609258, 6.948899118656961, -61.813989751934855, 23.304134919572494, -24.952073478305948, 4.363768943611333, -22.421471262312565, -3.3204438152733857, -10.721667822983036, 16.727098244779697, -27.873647628508106, -40.51270448847667, -12.105915279334054, 25.619159314851476, -0.1594848346417379, 6.644551332683514, 44.793412936582854, -68.79856632697482, 32.66723911221081, -17.174768510723148, -65.67256474214258, 34.981960070913786, 11.014164573133254, -13.674228779113363, -115.95900206979718, 40.15005747714765, -25.23712241750141, -18.81511462984217, 34.357802917550494, -9.604724092087636, 1.0447770978601323, 45.79661603260871, 17.042155731521675, 36.32330218732131, -19.32450016076062, 33.55014242409127, -2.5073586581317793, -140.2288735865424, -17.108499551157593, -32.05637966394013, -136.25905848804734, -76.52542691536237, -6.377735033092893, 39.93794837857926, -4.746538053683853, -14.512285118054784, 16.03192900444604, 5.166402541358423, -0.29282073803867803, -34.40798866062538, -21.528408612390905, -71.085187724413, 4.541255331069273, -21.312110221278076, -27.11077240837103, 53.46818755919618, 0.808015190774146, -14.723446401331518, 40.10695062707602, -1.5759236284610507, 20.613278617023244, -38.565838505268175, -13.704502288510469, 50.21542080060627, 32.61270619229437, -2.9376547719508768, -39.804865013922075, 5.814929246728731, 32.0317864539158, 20.684413641276254, -2.551167122780475, -58.682800406282674, 30.608108729471105, -29.39724264526211, 5.881142109373069, -96.83694960749901, 34.56659237055889, -77.95077703231559, -4.231357838963177, 17.82326595650794, 19.16698242758424, -10.194648528599657, 25.55947901343325, 47.65680908045373, 1.8978297366970054, 30.92586511269574]

# problem(输入矩阵, 输出向量, 目标函数, 迭代次数, 特征值个数)
p = problem(input, output, h, 1000, 6)

# p.plotSets()
p.solve()
p.show()
p.plot()