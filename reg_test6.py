from regression import problem

# 目标函数，th为特征值集合，x为自变量集合
def h(th, x):
    return th[0]*x[0]**2 + th[1]*x[1]**2 + th[2]*x[0] + th[3]*x[1] + th[4]*x[0]*x[1] + th[5]

# 输入矩阵，input[i][j]表示第i+1个训练集的第j+1个自变量
input = [[2.578746512456239, 1.0235004453761742], [4.112399947774435, 1.572062419944219], [0.05342806761625907, -0.5734083009042357], [2.728614270222667, 3.962467510834886], [0.9632922408032107, 1.4093290361688626], [-3.9973077817333458, 4.625997436760532], [-1.0857388393047196, -1.923524944605518], [-4.21275986061827, 0.14488807661005354], [4.897651155760822, 4.119020269329123], [-1.946715318972314, -1.3113868701524423], [-0.5436293311695262, 3.320274501238493], [0.661942392669258, -0.7913883174495617], [4.831470411641053, 2.929281595221045], [-0.8119061104011993, -0.024466697012816008], [-3.1567467323905096, 4.947416994740113], [-1.1659197491947415, -1.8976961172401952], [3.933519043490714, -4.230772427592035], [-4.251329821708333, -4.693535714953815], [-4.173181036510702, 1.5232453267432144], [-3.2858383616436115, -4.4433536748142535], [1.7007158853344129, -4.424750424356915], [1.94145967315417, -3.2677544233378653], [1.8387560996338193, -4.793403827309238], [3.666284926494635, -1.8214085765510002], [1.4985264433595824, -4.274790957716975], [-1.8605389823110485, 1.28881966550086], [-3.8966570936748592, -1.3028270803283215], [4.131975659831529, -4.3567044603907545], [0.5475571703070448, 1.8239059654625223], [-4.395570326731436, 1.45504570123407], [2.2171686081967468, 2.5735039952867487], [4.321885518052229, -1.9008614675400992], [-2.9198582513568248, -1.686924635107957], [-3.2681722280972414, -0.1487836506113982], [-2.1026249240803, 0.4828652970930736], [-2.2940968574260223, 0.059076340242687486], [-4.36605126700059, 1.1182295236897832], [3.1555184059607955, -1.2212237378290247], [0.13605531207756427, -0.42978584829850175], [-2.997269377430994, 1.1325362590516186], [-1.053082355435636, 2.1320908497311644], [4.435492560374227, 2.049928759212909], [-4.455410780087005, -2.003250788412736], [-0.40195909331549595, 1.8293072499439966], [3.4495239727229143, 1.5199714317393542], [0.4953367882685533, -0.3073254717766183], [0.044796247704808057, 3.921447170027774], [1.5598042357336162, 1.9485540594299244], [-2.2232647551096276, 1.6423469615316777], [-2.4003001908958788, -1.6713940167258867], [4.41081082349132, 1.948378934403322], [-4.7131480152830605, -4.058092122428137], [-3.4625589787196, -1.2985932902063058], [-3.2334020765893157, -2.6490571287504414], [3.645903608199027, 4.069151114561209], [-4.317037377588225, 0.751680785356662], [-1.1607160587876275, -2.3918578715651795], [3.02337853714873, 4.085438110554342], [-1.4808469718320494, -4.508050406833068], [0.8099318568174474, -1.2360735912239018], [-3.197812951100901, 4.680418141422375], [-4.673179131012758, 0.4058647323389897], [-2.7144016813642913, -0.2344498244562554], [1.2613826131519312, 4.092932813093901], [0.36566337989097253, 4.844332211382478], [1.7868474775796905, -4.9071996535092035], [-2.487931089217148, 2.6265291455265616], [2.019286802863176, 1.7047456061994015], [2.822973249968632, -3.1815067365209835], [3.339508010113843, 1.6132529827041797], [-4.322480259930511, -0.7367382911324993], [3.8660510464801465, -3.4828344548407495], [4.081951698777477, -2.8525927308030385], [-1.3044938120360883, -4.945195989663756], [1.355464915154958, 0.7427137391154792], [-1.1939694031897208, 4.612611100684267], [-0.9060920420646823, -1.5984556958118479], [3.8383871779914216, -4.429907131083233], [-3.8230855617142145, -1.4880559315836872], [0.7939042197807955, -2.7659071044159855], [-3.357653958441454, 0.4492466364632208], [-3.2592548717578596, 3.0265643441028733], [-4.824008468233101, -3.7512797739355874], [1.4161996121474874, 3.5267443642606366], [-0.9913763202067338, 1.5211469232877217], [-0.856433484247493, -2.838770514412683], [4.574033955112357, -3.4214823661636906], [1.1676999217256168, -1.9326944314075678], [-4.382759291349211, 1.8915142129155793], [-1.4751524803684857, 2.366984963103781], [0.29936062777418004, 3.8600540489054866], [-4.2674432960703115, -4.3480047414257985], [4.9059452411567905, 4.197085331773835], [0.05511936813216378, 1.9502336952366284], [-4.318630179494636, 0.1363849466629452], [-1.7273362476809495, 2.543695978516285], [-2.4744879056961455, -0.11692810399751341], [3.257057072184202, 4.064268672849558], [-2.00194684424569, -0.027336385876612912], [-2.1539136479149787, 4.198924753198279]]

# 输出向量
output = [17.75864602037162, 41.445321170975056, 3.6058612599095836, -2.0273925013597895, -4.123052384478282, -139.44553611010994, 0.6331211601683935, -9.917261674494469, 54.195086700061374, -1.8457788266569368, -51.043406781625784, 6.560973841318411, 54.465788412667216, -7.113450005763545, -139.75143284300526, 0.1395731775809912, -25.920569513758714, 36.72037308338678, -48.055132563482005, 22.29903361521248, -24.149581902142494, -13.793698713362756, -32.13950874018625, 16.02927117556236, -19.23821433525119, -25.24022602938124, 5.715287514491424, -26.160567855761528, -18.394383204814805, -41.808645345566156, 7.434041847726049, 19.308237983141296, 9.663702328153772, -13.40600971726694, -16.87263438993255, -17.103039253503862, -39.378496935474374, 17.065586617389464, -1.3490692278776055, -28.865163746758327, -37.462301141425534, 51.38146827504813, 19.698319431391823, -30.429761785381103, 29.107567599285066, 4.508959209309548, -52.63799200061614, -4.954567714538104, -34.10737560516014, 6.306480916966461, 44.6099952740942, 35.951674492380874, 8.475169606902016, 19.52782822106834, 19.043776199274472, -27.683997073647706, -3.3307421802488335, -2.3547652317827907, -5.194557547162866, 5.998127357632172, -132.6802394893326, -21.30170250721298, -11.132801949342083, -38.95240963422395, -74.85966013723231, -33.81779768859775, -65.06610093886842, 10.961419845083979, -4.0122874467936365, 33.26086397880613, 2.1169396223620183, -13.580732948105481, 4.015756579901819, -5.943938198640902, 8.378205692835914, -98.12938689096414, -0.7586335973074012, -34.61511896639726, 6.076228756850175, -0.6031156736575616, -24.700849395223873, -77.93107560970256, 38.219412439226865, -23.025900320807814, -28.021967816670383, 2.9400916956910637, -7.640608266917832, 5.544948164163276, -58.827536236985146, -47.430467163046195, -48.7468420027218, 31.82888438846742, 52.587845795440145, -17.748881242316877, -18.388876447743705, -52.60800294712933, -7.012721651167649, 3.9408146205925476, -14.568061609237652, -102.52150573118908]

# problem(输入矩阵, 输出向量, 目标函数, 迭代次数, 特征值个数)
p = problem(input, output, h, 1000, 6)

# p.plotSets()
p.solve()
p.show()
p.plot()